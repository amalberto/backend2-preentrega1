<div class="container products-container">
    <h1>Productos</h1>
    <h2>Backend2 - CatÃ¡logo</h2>
    
    {{#if user}}
    <div class="user-greeting">
        <span class="greeting-text">Hola, <strong>{{user.first_name}}</strong></span>
    </div>
    {{/if}}
    
    <div class="nav-buttons">
        {{#if user}}
            <a href="/users/current" class="btn-nav btn-profile">ğŸ‘¤ Mi Perfil</a>
            {{#if (eq user.role "user")}}
            <button id="go-to-cart-btn" class="btn-nav btn-cart" disabled title="Cargando...">
                ğŸ›’ Ir al carrito
            </button>
            {{/if}}
            {{#if (eq user.role "admin")}}
            <a href="/admin-panel" class="btn-nav btn-admin">ğŸ› ï¸ Admin Panel</a>
            {{/if}}
            <form action="/api/users/logout" method="POST" style="display:inline; margin:0;">
                <button type="submit" class="btn-nav btn-logout">ğŸšª Cerrar SesiÃ³n</button>
            </form>
        {{else}}
            <a href="/users/login" class="btn-nav btn-login">ğŸ”‘ Iniciar SesiÃ³n</a>
            <a href="/users/register" class="btn-nav btn-register">ğŸ“ Registrarse</a>
        {{/if}}
    </div>

    {{#if error}}
        <div class="error">{{error}}</div>
    {{/if}}

    <div id="notice" class="notice" hidden></div>

    <div class="products-grid" id="products-grid">
        <p class="loading">Cargando productos...</p>
    </div>

    <div class="pagination" id="pagination"></div>
</div>

<script src="/js/products.page.js"></script>
